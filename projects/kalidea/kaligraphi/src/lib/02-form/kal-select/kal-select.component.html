<div (click)="toggleOverlay()"
     (focus)="toggleOverlay()"
     [id]="id"
     class="kal-select__trigger">

  <div>

    <ng-container *ngIf="selection?.length > 0; else placeHolderTemplate">

      <div class="kal-select__triggervalue">

        <ng-container
          *ngTemplateOutlet="triggerValue ? triggerValueTemplate : kalSelectPlaceholder?.view; context: {selection: selection}">
        </ng-container>

        <ng-template #triggerValueTemplate>
          {{ triggerValue }}
        </ng-template>

      </div>

    </ng-container>

    <ng-template #placeHolderTemplate>
      <div class="kal-select__placeholder">{{ placeholder }}</div>
    </ng-template>
    <kal-icon>keyboard_arrow_down</kal-icon>

  </div>

</div>

<ng-template #optionsPortal="cdkPortal" cdkPortal>
  <div
    [class]="overlayClassList"
    [kalTheme]="theme">
    <ng-content></ng-content>
  </div>
</ng-template>
