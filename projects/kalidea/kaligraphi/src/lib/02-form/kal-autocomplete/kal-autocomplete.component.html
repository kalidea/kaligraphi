<cdk-virtual-scroll-viewport
  [itemSize]="virtualScrollConfig.itemSize"
  [ngClass]="getClasses()"
  class="kal-autocomplete-virtual-scroll-viewport"
  [style.width]="width"
  [style.height]="height">

  <div *ngIf="loading; else displayOptionsTemplate"
       [style.height]="kalAutocompleteHeight"
       [kalLoading]="loading">
  </div>

  <ng-template #displayOptionsTemplate>

    <ng-container [kalLoading]="loading"
                  *cdkVirtualFor="let option of options; index as i">

      <kal-option (click)="select(option)"
                  (selectionChange)="select(option)"
                  [disabled]="option.disabled"
                  [label]="option.label"
                  [value]="option">
        {{ option.label }}
      </kal-option>

    </ng-container>

  </ng-template>

</cdk-virtual-scroll-viewport>
