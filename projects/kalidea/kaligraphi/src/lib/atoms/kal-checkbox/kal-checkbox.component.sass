
=kal-checkbox($parameters)
  kal-checkbox
    position: relative
    display: block
    padding: 7px
    // on  cache input
    [type="checkbox"]:not(:checked),
    [type="checkbox"]:checked
      position: absolute
      left: -9999px
    // on revoit le label
    [type="checkbox"]:not(:checked) + label,
    [type="checkbox"]:checked + label
      position: relative  // permet de positionner les pseudo-éléments
      padding-left: 37px  // fait un peu d'espace pour notre case à venir
      cursor: pointer     // affiche un curseur adapté
      display: flex
      flex-flow: row wrap
      align-items: center
    // cas du label vide
    [type="checkbox"]:not(:checked) + label:empty,
    [type="checkbox"]:checked + label:empty
      display: inline-flex
      width: 18px
      height: 18px
      padding-left: 0
    // le before represente la case
    // Aspect before si "non coché"
    [type="checkbox"]:not(:checked) + label:before
      content: ''
      position: absolute
      top: 0
      left: 0
      width: 18px
      height: 18px /* dim. de la case */
      border: 1px solid get("palettes.grey.wf300", $kal-parameters)
      border-radius: 3px
      background-color: get("palettes.grey.wf100", $kal-parameters)
    // Aspect before si"coché"
    [type="checkbox"]:checked + label:before
      content: ''
      position: absolute
      left: 0
      top: 0
      width: 18px
      height: 18px /* dim. de la case */
      border: 1px solid get("palettes.grey.wf300", $kal-parameters)
      border-radius: 3px
      background-color: get("palettes.white", $kal-parameters)
    // le after represente la coche
    [type="checkbox"]:not(:checked) + label:after,
    [type="checkbox"]:checked + label:after
      content: ''
      position: absolute
      top: 5px
      left: 5px
      display: flex
      flex-flow: row wrap
      justify-content: center
      align-items: center
      width: 8px
      height: 8px
      background-color: get("palettes.black", $kal-parameters)
      border-radius: 3px
      transition: all .2s // on prévoit une animation
    // Aspect after si "non cochée"
    [type="checkbox"]:not(:checked) + label:after
      opacity: 0 /* coche invisible */
      transform: scale(0) // mise à l'échelle à 0
    /// Aspect after si "cochée"
    [type="checkbox"]:checked + label:after
      opacity: 1 // coche opaque
      transform: scale(1) //mise à l'échelle 1:1
  kal-checkbox:disabled,
  kal-checkbox.ng-invalid
    // Aspect after si "disabled"
    [type="checkbox"]:checked + label:after,
    [type="checkbox"]:not(:checked) + label:after
      background-color: get("palettes.grey.wf500", $kal-parameters)
    // Aspect label si "disabled"
    [type="checkbox"] + label
      color: get("palettes.grey.wf500", $kal-parameters)
      cursor: not-allowed
  kal-checkbox label
    font-size: 18px
  kal-checkbox div
    display: inline-block
    position: absolute
    z-index: -1
    top: 0
    left: 0
    height: 32px
    width: 32px
    border-radius: 50%
    background-color: transparent
  kal-checkbox:hover div
    background-color: get("palettes.grey.wf100", $kal-parameters)
  kal-checkbox [type="checkbox"]:checked:focus ~ div,
  kal-checkbox [type="checkbox"]:not(:checked):focus ~ div,
  kal-checkbox [type="checkbox"]:checked:active ~ div,
  kal-checkbox [type="checkbox"]:not(:checked):active ~ div
    background-color: get("palettes.grey.wf200", $kal-parameters)
  // Variante taille
  kal-checkbox.kal-checkbox--large
    label
      font-size: 24px
      padding-left: 51px
    div
      height: 38px
      width: 38px
    [type="checkbox"]:not(:checked) + label:empty,
    [type="checkbox"]:checked + label:empty
      width: 24px
      height: 24px
    [type="checkbox"]:checked + label:before,
    [type="checkbox"]:not(:checked) + label:before
      width: 24px
      height: 24px
    [type="checkbox"]:checked + label:after,
    [type="checkbox"]:not(:checked) + label:after
      width: 10px
      height: 10px
      top: 7px
      left: 7px
  // Variante couleur
  kal-checkbox.kal-checkbox--reverse
    label
      color: get("palettes.white", $kal-parameters)
    [type="checkbox"]:checked + label:before,
    [type="checkbox"]:not(:checked) + label:before
      background-color: get("palettes.grey.wf800", $kal-parameters)
    [type="checkbox"]:not(:checked) + label:after,
    [type="checkbox"]:checked + label:after
      background-color: get("palettes.white", $kal-parameters)
  kal-checkbox.-reverse.ng-invalid
    [type="checkbox"]:checked + label:before,
    [type="checkbox"]:not(:checked) + label:before
      border-color: get("palettes.grey.wf500", $kal-parameters)
      background-color: get("palettes.grey.wf700", $kal-parameters)
    [type="checkbox"]:not(:checked) + label:after,
    [type="checkbox"]:checked + label:after
      background-color: get("palettes.grey.wf500", $kal-parameters)
